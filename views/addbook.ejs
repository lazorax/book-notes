<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>addbook</title>
    <link rel="stylesheet" href="/styles/style.css">
</head>
<body>
    <% if(locals.isvalidAdmin){%>
        <div class="container">
            <div class="search-isbn-admin">
                <h1 class="h1-style">Search Via ISBN to Add</h1>
                <form action="/admin/searchBook" id="isbn-submit">
                    <input type="text" name="isvalidAdmin" value="<%=isvalidAdmin%>" hidden>
                    <input type="number" name="isbnCode" placeholder="Enetr ISBN Number" required autocomplete="off">
                    <input type="submit" value="search">
                     <% if(locals.error){%>
                        <p style="color: rgb(249, 246, 246); text-shadow: 4px 3px 4px rgb(253, 3, 3) ;text-align: center;"><%=error%></p>
                     <%}%>
                </form>
            </div>
            <div class="update-book-admin">
                <h1 class="h1-style">OR <br> Update Book</h1>
                <form action="/admin/updatebook" method="get">
                    <input type="text" name="isvalidAdmin" value="<%=isvalidAdmin%>" hidden>
                    <input type="submit" value="Go To Update Page">
                </form>
            </div>
        </div>
<%}%>

   <%if(locals.bookInfo && locals.addBookForm){%>
    <h1 class="h1-style">Add Book</h1>
     <form action="/addbook" method="post">
        <input type="text" name="isValidAdmin" value="<%=addBookForm%>" hidden>
        <input type="text" value="<%=bookInfo.isbn%>" name="isbn" hidden>
       <div class="book-info">
        <img src="<%=bookInfo.cover%>" alt="book cover">
        <input type="text" name="coverImageUrl" value="<%=bookInfo.cover%>" hidden>

        <label for="title">Title: </label>
        <input type="text" name="title" id="title" value="<%=bookInfo.title%>" required >
        <label for="author">Author: </label>
        <input type="text" name="author" id="author" value="<%=bookInfo.authors%>" required>
       </div>

       <label for="readDate">When you read this Book: </label>
        <input type="date" name="readDate" id="readDate" placeholder="Enter Date">

       <label for="rate">Rate: </label>
        <input type="number" name="rate" id="rate" placeholder="Rate Out of 10" required max="10" min="1" autofocus autocomplete="off">

        <label for="review">Summary/Review : </label>
        <textarea name="review" id="review" rows="5" cols="50" required placeholder="Enter review"></textarea>

        <label for="notes">Notes: </label>
        <textarea name="notes" id="notes" rows="15" cols="50" required placeholder="Enter notes"></textarea>

        <input type="submit" value="ADD BOOK">
    </form>
   <%}%>

 <%- include('partials/footer.ejs'); -%>